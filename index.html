<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>节气公转可视化</title>
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+SC:wght@300;400;500;700&family=Noto+Serif+SC:wght@500;700&display=swap" rel="stylesheet" />
  <link rel="stylesheet" href="styles.css" />
</head>
<body>
  <div class="atmosphere" aria-hidden="true">
    <span class="orb orb--1"></span>
    <span class="orb orb--2"></span>
    <span class="orb orb--3"></span>
    <span class="orb orb--4"></span>
  </div>

  <div class="app">
    <header class="hero">
      <div class="hero__text">
        <p class="hero__tag">顶视图 · 椭圆轨道 · 太阳黄经</p>
        <h1>地球绕太阳公转与 24 节气</h1>
        <p class="hero__subtitle">
          以椭圆轨道与角度刻度呈现节气位置。点击节气标记，了解其含义与时间范围。
        </p>
      </div>
      <div class="hero__note bento-card">
        <div class="note__title">解读方式</div>
        <div class="note__line">0° 在右侧水平轴，逆时针递增</div>
        <div class="note__line">刻度每 15°，数字每 30°</div>
        <div class="note__line">太阳位于椭圆焦点</div>
      </div>
    </header>

    <main class="layout">
      <section class="visual bento-card" aria-label="地球公转轨道可视化">
        <div class="visual__header">
          <h2>轨道与节气位置</h2>
          <span class="chip">可点击节气</span>
        </div>

        <div class="visual__stage">
          <svg id="orbitSvg" viewBox="-480 -340 960 680" role="img" aria-label="椭圆轨道与节气标记">
            <defs>
              <radialGradient id="sunGlow" cx="50%" cy="50%" r="50%">
                <stop offset="0%" stop-color="#ffe29a" />
                <stop offset="65%" stop-color="#ffb23f" />
                <stop offset="100%" stop-color="#ff8a3d" />
              </radialGradient>
              <radialGradient id="earthGlow" cx="50%" cy="50%" r="50%">
                <stop offset="0%" stop-color="#a4e5ff" stop-opacity="0.95" />
                <stop offset="100%" stop-color="#1b5bff" stop-opacity="0.25" />
              </radialGradient>
              <linearGradient id="orbitStroke" x1="0%" y1="0%" x2="100%" y2="100%">
                <stop offset="0%" stop-color="#7be3ff" stop-opacity="0.95" />
                <stop offset="100%" stop-color="#7bffbf" stop-opacity="0.22" />
              </linearGradient>
              <filter id="softGlow" x="-50%" y="-50%" width="200%" height="200%">
                <feGaussianBlur stdDeviation="6" result="blur" />
                <feMerge>
                  <feMergeNode in="blur" />
                  <feMergeNode in="SourceGraphic" />
                </feMerge>
              </filter>
            </defs>

            <g id="orbitBase" class="orbit">
              <ellipse cx="0" cy="0" rx="300" ry="180" class="orbit__ring" />
              <ellipse cx="0" cy="0" rx="300" ry="180" class="orbit__glow" />
              <ellipse cx="0" cy="0" rx="300" ry="180" class="orbit__halo" />
              <ellipse cx="0" cy="0" rx="350" ry="210" class="orbit__grid" />
            </g>

            <g id="axis" class="axis">
              <line x1="-360" y1="0" x2="360" y2="0" />
              <line x1="0" y1="-240" x2="0" y2="240" />
            </g>

            <g id="ticks" class="ticks"></g>

            <g id="indicator" class="indicator" aria-hidden="true">
              <line id="indicatorLine" x1="0" y1="0" x2="0" y2="0" />
              <circle id="indicatorDot" r="6" />
            </g>

            <g id="terms" class="terms"></g>

            <g class="sun" filter="url(#softGlow)">
              <circle id="sun" r="30" />
              <circle r="54" class="sun__halo" />
            </g>

            <g id="earth" class="earth" filter="url(#softGlow)">
              <circle r="12" class="earth__core" />
              <circle r="26" class="earth__glow" />
              <text class="earth__label" x="0" y="-24">地球</text>
            </g>
          </svg>
        </div>

        <div class="legend">
          <div class="legend__item"><span class="legend__dot sun"></span> 太阳（焦点）</div>
          <div class="legend__item"><span class="legend__dot earth"></span> 地球（示意位置）</div>
          <div class="legend__item"><span class="legend__dot term"></span> 节气位置</div>
        </div>
      </section>

      <aside class="panel">
        <div class="panel__header bento-card span-2">
          <h2>节气卡片</h2>
          <p>点击轨道上的任意节气标记查看详情。</p>
        </div>

        <div id="termCard" class="term-card bento-card span-2 is-empty">
          <div class="term-card__header">
            <div>
              <div class="term-card__label">当前选择</div>
              <h3 id="termName">尚未选择</h3>
            </div>
            <button id="closeCard" class="term-card__close" aria-label="关闭卡片">✕</button>
          </div>
          <div class="term-card__angle" id="termAngle">太阳黄经 --°</div>
          <p id="termDesc" class="term-card__desc">点击节气标记，了解其在地球公转中的位置与含义。</p>
          <div class="term-card__meta">
            <div>
              <div class="meta__label">典型时间</div>
              <div id="termRange" class="meta__value">—</div>
            </div>
            <div>
              <div class="meta__label">对应季节</div>
              <div id="termSeason" class="meta__value">—</div>
            </div>
          </div>
        </div>

        <div class="mini-card bento-card">
          <div class="mini-card__title">轨道参数</div>
          <div class="mini-card__value">a=300 / b=180</div>
          <div class="mini-card__desc">椭圆示意，太阳位于焦点。</div>
        </div>

        <div class="mini-card bento-card">
          <div class="mini-card__title">角度规则</div>
          <div class="mini-card__value">每 15° 一刻度</div>
          <div class="mini-card__desc">点击节气显示角度指示线。</div>
        </div>

        <div class="term-grid bento-card span-2">
          <div class="term-grid__title">节气速览</div>
          <div id="termGrid" class="term-grid__list" aria-label="节气快速选择"></div>
        </div>
      </aside>
    </main>
  </div>

  <script src="app.js"></script>
</body>
</html>
